{"remainingRequest":"/home/assita/dashbord-igp/node_modules/babel-loader/lib/index.js!/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/assita/dashbord-igp/src/views/logistique/materiel/create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/assita/dashbord-igp/src/views/logistique/materiel/create.vue","mtime":1642088479418},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/babel-loader/lib/index.js","mtime":1642074365772},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js","mtime":1642074365976}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsgLy9pbXBvcnQge1VSTF9MT0dJU1RJUVVFX0FQSX0gZnJvbSAnQC9jb25maWcnCi8vIEltcG9ydCBjb21wb25lbnQKCmltcG9ydCBMb2FkaW5nIGZyb20gJ3Z1ZS1sb2FkaW5nLW92ZXJsYXknOyAvLyBJbXBvcnQgc3R5bGVzaGVldAoKaW1wb3J0ICd2dWUtbG9hZGluZy1vdmVybGF5L2Rpc3QvdnVlLWxvYWRpbmcuY3NzJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIExvYWRpbmc6IExvYWRpbmcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtYXRlcmllbDoge30sCiAgICAgIG1hdGVyaWVsbGlzdDogW10sCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGZ1bGxQYWdlOiB0cnVlLAogICAgICBwaG90b3M6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRQcm9kdWN0VHlwZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgc3RvcmU6IGZ1bmN0aW9uIHN0b3JlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy9jb25zb2xlLmxvZygnUHJvZHVjdERhdGEnKQogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBtYXRlcmllbERhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpOwogICAgICBoZWFkZXJzLmFwcGVuZCgnT3JpZ2luJywgJ2h0dHA6Ly8xOTIuMTY4LjEuNzo4MDA2L2FwaS8nKTsKICAgICAgdGhpcy5waG90b3MgPSB0aGlzLiRyZWZzLnBob3RvLmZpbGVzOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnBob3Rvcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBmaWxlID0gdGhpcy5waG90b3NbaV07CiAgICAgICAgbWF0ZXJpZWxEYXRhLmFwcGVuZCgncGhvdG9bJyArIGkgKyAnXScsIGZpbGUpOwogICAgICB9IC8vbWF0ZXJpZWxEYXRhLmFwcGVuZCgncGhvdG8nLCkKCgogICAgICBtYXRlcmllbERhdGEuYXBwZW5kKCdsaWJlbGxlJywgdGhpcy5tYXRlcmllbC5saWJlbGxlKTsKICAgICAgbWF0ZXJpZWxEYXRhLmFwcGVuZCgnZGlzY291bnQnLCB0aGlzLm1hdGVyaWVsLmRpc2NvdW50KTsKICAgICAgbWF0ZXJpZWxEYXRhLmFwcGVuZCgncHJpY2UnLCB0aGlzLm1hdGVyaWVsLnByaWNlKTsKICAgICAgbWF0ZXJpZWxEYXRhLmFwcGVuZCgnc3RvY2snLCB0aGlzLm1hdGVyaWVsLnN0b2NrKTsKICAgICAgbWF0ZXJpZWxEYXRhLmFwcGVuZCgnc2x1ZycsIHRoaXMubWF0ZXJpZWwuc2x1Zyk7CiAgICAgIG1hdGVyaWVsRGF0YS5hcHBlbmQoJ2Rlc2NyaXB0aW9uJywgdGhpcy5tYXRlcmllbC5kZXNjcmlwdGlvbik7CiAgICAgIG1hdGVyaWVsRGF0YS5hcHBlbmQoJ2NhdGVnb3JpZV9pZCcsIHRoaXMubWF0ZXJpZWwuY2F0ZWdvcmllX2lkKTsKICAgICAgY29uc29sZS5sb2coJycsIHRoaXMubWF0ZXJpZWwpOwogICAgICBheGlvcy5wb3N0KCdodHRwOi8vMTkyLjE2OC4xLjc6ODAwNi9hcGkvcHJvZHVjdHMnLCBtYXRlcmllbERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGEpOwogICAgICAgIF90aGlzLm1hdGVyaWVsID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcy5kYXRhLnN0YXRlKSB7CiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9tYXRlcmllbC1zdG9jay1wcm9kdWN0cycpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIF90aGlzLmVycm9yZWQgPSB0cnVlOwogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRQcm9kdWN0VHlwZTogZnVuY3Rpb24gZ2V0UHJvZHVjdFR5cGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTkyLjE2OC4xLjc6ODAwNi9hcGkvY2F0ZWdvcmllcycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5tYXRlcmllbGxpc3QgPSByZXMuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZygnbWF0ZXJpZWxsaXN0JywgcmVzLmRhdGEpOwogICAgICAgIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIF90aGlzMi5lcnJvcmVkID0gdHJ1ZTsKICAgICAgICBfdGhpczIuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["create.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"content-page\">\n        <div class=\"container-fluid add-form-list\">\n            <div class=\"row\">\n                <div class=\"col-sm-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header d-flex justify-content-between\">\n                            <div class=\"header-title\">\n                                <h4 class=\"card-title\">Ajouter un Product Logistique</h4>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <form action=\"page-list-category.html\" @submit.prevent=\"store\" data-toggle=\"validator\">\n                                 <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Libelle *</label>\n                                            <input type=\"text\" v-model=\"materiel.libelle\" class=\"form-control\" placeholder=\"Entrer libelle\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>\n                                   \n                                     <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>slug *</label>\n                                            <input type=\"text\"  v-model=\"materiel.slug\" class=\"form-control\" placeholder=\"Entrer adresse\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div> \n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Prix *</label>\n                                            <input type=\"number\" min=\"0\" v-model=\"materiel.price\" class=\"form-control\" placeholder=\"Entrer adresse\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>     \n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>reduction (%) *</label>\n                                            <input type=\"number\" min=\"0\" v-model=\"materiel.discount\" class=\"form-control\" placeholder=\"Entrer adresse\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div> \n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Categorie *</label>\n                                            <select v-model=\"materiel.categorie_id\" class=\"form-control\">\n                                                <option v-for=\"(materiel,index) in materiellist\" :key=\"index\" :value=\"materiel.id\"> {{materiel.libelle}} </option>\n                                            </select>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>\n                                     <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>description *</label>\n                                            <input type=\"texte\" min=\"0\" v-model=materiel.description class=\"form-control\"  placeholder=\"Entrer la description\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div> \n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Stock *</label>\n                                            <input type=\"number\" min=\"0\" v-model=\"materiel.stock\" class=\"form-control\" placeholder=\"Entrer adresse\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>\n                                     <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Photo *</label>\n                                            <input type=\"file\" ref=\"photo\"  class=\"form-control\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>                          \n                                </div>                            \n                                <!--<router-link :to=\"{name:'LogistiqueMaterielIndex',params:{id:materiel.id}}\">\n                                     </router-link>-->\n                                    <button type=\"submit\" class=\"btn btn-primary mr-2\">Enregistrer</button>\n                             \n                                <button type=\"reset\" class=\"btn btn-danger\">reinitialiser</button>\n                            </form>\n                        </div>\n                    </div>\n                    <div class=\"vld-parent\">\n                        <loading :active.sync=\"isLoading\" \n                        :can-cancel=\"true\" \n                        :is-full-page=\"fullPage\"></loading>\n                    </div>\n                </div>\n            </div>\n            <!-- Page end  -->\n        </div>\n    </div>\n</template>\n<script>\nimport axios from \"axios\";\n//import {URL_LOGISTIQUE_API} from '@/config'\n// Import component\nimport Loading from 'vue-loading-overlay';\n// Import stylesheet\nimport 'vue-loading-overlay/dist/vue-loading.css';\nexport default {\n    components: {\n            Loading\n    },\n    data() {\n        return {\n            materiel:{},\n            materiellist:[],\n            isLoading: false,\n            fullPage: true,\n            photos:null\n        };\n    },\n    mounted(){\n       this.getProductType()\n    },\n    methods:{\n       \n        store() {\n            \n\n            //console.log('ProductData')\n                \n            this.isLoading = true\n             var materielData = new FormData();\n\n             let headers = new Headers();\n             headers.append('Origin','http://192.168.1.7:8006/api/');\n            \n            this.photos = this.$refs.photo.files\n            for( var i = 0; i < this.photos.length; i++ ){\n                let file = this.photos[i];\n                materielData.append('photo[' + i + ']', file);\n            }\n            //materielData.append('photo',)\n            materielData.append('libelle',this.materiel.libelle)\n            materielData.append('discount',this.materiel.discount)\n            materielData.append('price',this.materiel.price)\n            materielData.append('stock',this.materiel.stock)\n             materielData.append('slug',this.materiel.slug)\n            materielData.append('description',this.materiel.description)\n            materielData.append('categorie_id',this.materiel.categorie_id)\n \n            \n            \n           \n           console.log('',this.materiel)\n            axios.post('http://192.168.1.7:8006/api/products',materielData)\n\n            .then(res => {\n                console.log(res.data.data)\n                this.materiel = res.data.data\n                   this.isLoading = false\n                if (res.data.state) \n                {\n                    this.$router.push('/materiel-stock-products')\n                }\n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        },\n        getProductType(){\n            axios.get('http://192.168.1.7:8006/api/categories')\n            .then(res => {\n                this.materiellist = res.data\n                console.log('materiellist',res.data)\n                this.isLoading = false\n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        }\n    }\n}\n</script>"],"sourceRoot":"src/views/logistique/materiel"}]}
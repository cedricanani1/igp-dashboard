{"remainingRequest":"/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/assita/dashbord-igp/src/views/Transport/car/show.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/assita/dashbord-igp/src/views/Transport/car/show.vue","mtime":1638380627000},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/babel-loader/lib/index.js","mtime":1642074365772},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js","mtime":1642074365976}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHtVUkxfVFJBTlNQT1JUX0FQSSxVUkxfVFJBTlNQT1JUfSBmcm9tICdAL2NvbmZpZycNCi8vIEltcG9ydCBjb21wb25lbnQNCmltcG9ydCBMb2FkaW5nIGZyb20gJ3Z1ZS1sb2FkaW5nLW92ZXJsYXknOw0KLy8gSW1wb3J0IHN0eWxlc2hlZXQNCmltcG9ydCAndnVlLWxvYWRpbmctb3ZlcmxheS9kaXN0L3Z1ZS1sb2FkaW5nLmNzcyc7DQppbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0MicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgICAgICBMb2FkaW5nDQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgVVJMX1RSQU5TUE9SVDpVUkxfVFJBTlNQT1JULA0KICAgICAgICAgICAgY2FyOnt9LA0KICAgICAgICAgICAgY2FyVHlwZTpbXSwNCiAgICAgICAgICAgIGltYWdlczpbXSwNCiAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2UsDQogICAgICAgICAgICBmdWxsUGFnZTogdHJ1ZSwNCiAgICAgICAgICAgIHRvZjpmYWxzZSwNCiAgICAgICAgICAgIHBob3Rvczp7fQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgbW91bnRlZCgpew0KICAgICAgICB0aGlzLmdldENhclR5cGUoKQ0KICAgICAgICB0aGlzLmdldENhcigpDQogICAgfSwNCiAgICBtZXRob2RzOnsNCiAgICAgICAgc3RvcmUoKSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2VkaXQtdHJhbnNwb3J0LWNhci8nK3RoaXMuJHJvdXRlLnBhcmFtcy5pZCkNCiAgICAgICAgfSwNCiAgICAgICAgYWRkQm9vbFBob3RvKGJvb2wpIHsNCiAgICAgICAgICAgIHRoaXMudG9mID0gYm9vbA0KICAgICAgICB9LA0KICAgICAgICBhZGRQaG90bygpIHsNCiAgICAgICAgICAgIHZhciBjYXJEYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAgICAgICB0aGlzLnBob3RvcyA9IHRoaXMuJHJlZnMucGhvdG9zLmZpbGVzDQogICAgICAgICAgICBmb3IoIHZhciBpID0gMDsgaSA8IHRoaXMucGhvdG9zLmxlbmd0aDsgaSsrICl7DQogICAgICAgICAgICAgICAgbGV0IGZpbGUgPSB0aGlzLnBob3Rvc1tpXTsNCiAgICAgICAgICAgICAgICBjYXJEYXRhLmFwcGVuZCgncGhvdG9bJyArIGkgKyAnXScsIGZpbGUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2FyRGF0YS5hcHBlbmQoJ2lkJyx0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpDQoNCiAgICAgICAgICAgIGF4aW9zLnBvc3QoVVJMX1RSQU5TUE9SVF9BUEkrJ2FkZEZpbGUnLCBjYXJEYXRhKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuY2FyID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgICAgICB0aGlzLmdldENhcigpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlDQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Q2FyKCkgew0KICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlDQogICAgICAgICAgICANCiAgICAgICAgICAgIGF4aW9zLmdldChVUkxfVFJBTlNQT1JUX0FQSSsnY2Fycy8nK3RoaXMuJHJvdXRlLnBhcmFtcy5pZCkNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgICAgIHRoaXMuY2FyID0gcmVzcG9uc2UuZGF0YQ0KICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VzID0gcmVzcG9uc2UuZGF0YS5waG90by5zcGxpdCgnOycpDQogICAgICAgICAgICAgICAgdGhpcy5pbWFnZXMucG9wKCkNCiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIHRoaXMuaW1hZ2VzKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICAgICAgICAgICAgdGhpcy5lcnJvcmVkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGdldENhclR5cGUoKXsNCiAgICAgICAgICAgIGF4aW9zLmdldChVUkxfVFJBTlNQT1JUX0FQSSsnY2FyLXR5cGVzJykNCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmNhclR5cGUgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICAgICAgICAgICAgdGhpcy5lcnJvcmVkID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGRlc3Ryb3lQYXRoKHBhdGgpIHsNCiAgICAgICAgICAgIGxldCBhcHAgPSB0aGlzDQogICAgICAgICAgICBTd2FsLmZpcmUoew0KICAgICAgICAgICAgICAgIHRpdGxlOiAnVm91bGV6LXZvdXMgc3VwcHJpbWVyIGNldHRlIGltYWdlPycsDQogICAgICAgICAgICAgICAgdGV4dDogImNldHRlIGFjdGlvbiBlc3QgaXJyZXZlcnNpYmxlISIsDQogICAgICAgICAgICAgICAgaWNvbjogJ3dhcm5pbmcnLA0KICAgICAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsDQogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsDQogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywNCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ091aSwgc3VwcHJpbWVyIScNCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSAgdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBheGlvcy5wb3N0KFVSTF9UUkFOU1BPUlRfQVBJKydkZWxldGVGaWxlJyx7DQogICAgICAgICAgICAgICAgICAgICAgICBpZDp0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICBwYXRoOnBhdGgNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgYXBwLmdldENhcigpDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSAgZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIFN3YWwuZmlyZSgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU3VwcHJpbcOpIScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0xcJ2ltYWdlIGEgw6l0w6kgc3VwcHJpbcOpZS4nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJw0KICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9ICBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgfQ0KfQ0K"},{"version":3,"sources":["show.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"show.vue","sourceRoot":"src/views/Transport/car","sourcesContent":["<template>\r\n    <div class=\"content-page\">\r\n        <div class=\"container-fluid add-form-list\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-12\">\r\n                    <div class=\"card\">\r\n                        <div class=\"card-header d-flex justify-content-between\">\r\n                            <div class=\"header-title\">\r\n                                <h4 class=\"card-title\">Détails d'un vehicule</h4>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"card-body\">\r\n                            <!-- <form  action=\"#\" data-toggle=\"validator\"> -->\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Libelle *</label>\r\n                                            <input type=\"text\" v-model=\"car.libelle\" class=\"form-control\" placeholder=\"Entrer libelle\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Description *</label>\r\n                                            <input type=\"text\" v-model=\"car.description\" class=\"form-control\" placeholder=\"Entrer libelle\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Type *</label>\r\n                                            <select v-model=\"car.car_type_id\" class=\"form-control\" readonly>\r\n                                                <option v-for=\"(car,index) in carType\" :key=\"index\" :value=\"car.id\"> {{car.libelle}} </option>\r\n                                            </select>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Marque *</label>\r\n                                            <input type=\"text\" v-model=\"car.models.marques.libelle\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            \r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Models *</label>\r\n                                            <input type=\"text\" v-model=\"car.models.libelle\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>slug *</label>\r\n                                            <input type=\"text\" v-model=\"car.slug\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div> \r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Transmission *</label>\r\n                                            <input type=\"text\" min=\"0\" v-model=\"car.transmission\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div> \r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Année *</label>\r\n                                            <input type=\"text\" min=\"0\" v-model=\"car.year\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Couleur exterieur *</label>\r\n                                            <input type=\"text\" min=\"0\" v-model=\"car.color_exterior\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Couleur interieur *</label>\r\n                                            <input type=\"text\" min=\"0\" v-model=\"car.color_interior\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Type de carburant *</label>\r\n                                            <input type=\"text\" min=\"0\" v-model=\"car.fuel_type\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Kilometrage *</label>\r\n                                            <input type=\"text\" min=\"0\" v-model=\"car.mileage\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Prix *</label>\r\n                                            <input type=\"number\" min=\"0\" v-model=\"car.price\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div>    \r\n                                    <div class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Reduction(%) *</label>\r\n                                            <input type=\"number\" min=\"0\" v-model=\"car.discount\" class=\"form-control\" placeholder=\"Entrer adresse\" readonly>\r\n                                            <div class=\"help-block with-errors\"></div>\r\n                                        </div>\r\n                                    </div> \r\n                                    <div v-for=\"n in images\" :key=\"n\" class=\"col-md-6\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Photo *</label>\r\n                                            <img :src=\"URL_TRANSPORT+'Car/'+n\" alt=\"\" width=\"20%\">\r\n                                            <button class=\" btn btn-secondary\" @click=\"destroyPath(n)\"><i class=\"fa fa-trash\"></i></button>\r\n                                        </div>\r\n                                    </div>  \r\n                                    <div v-if=\"tof\">\r\n                                        <label for=\"\">Ajouter une photo</label>\r\n                                        <input type=\"file\" ref=\"photos\" multiple>\r\n                                    </div>                          \r\n                                </div>                            \r\n                                <button type=\"submit\" @click=\"store\" class=\"btn btn-primary mr-2\">Modifier</button>\r\n                                <button  class=\"btn btn-secondary mr-2\" @click=\"addBoolPhoto(true)\" v-if=\"!tof\">Ajouter une image</button>\r\n                                <button  class=\"btn btn-secondary mr-2\" @click=\"addPhoto()\" v-else>enregistrer l'image</button>\r\n                                <button type=\"reset\" class=\"btn btn-danger\">reinitialiser</button>\r\n                            <!-- </form> -->\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"vld-parent\">\r\n                        <loading :active.sync=\"isLoading\" \r\n                        :can-cancel=\"true\" \r\n                        :is-full-page=\"fullPage\"></loading>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <!-- Page end  -->\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport {URL_TRANSPORT_API,URL_TRANSPORT} from '@/config'\r\n// Import component\r\nimport Loading from 'vue-loading-overlay';\r\n// Import stylesheet\r\nimport 'vue-loading-overlay/dist/vue-loading.css';\r\nimport Swal from 'sweetalert2'\r\nexport default {\r\n    components: {\r\n            Loading\r\n    },\r\n    data() {\r\n        return {\r\n            URL_TRANSPORT:URL_TRANSPORT,\r\n            car:{},\r\n            carType:[],\r\n            images:[],\r\n            isLoading: false,\r\n            fullPage: true,\r\n            tof:false,\r\n            photos:{}\r\n        };\r\n    },\r\n    mounted(){\r\n        this.getCarType()\r\n        this.getCar()\r\n    },\r\n    methods:{\r\n        store() {\r\n            this.$router.push('/edit-transport-car/'+this.$route.params.id)\r\n        },\r\n        addBoolPhoto(bool) {\r\n            this.tof = bool\r\n        },\r\n        addPhoto() {\r\n            var carData = new FormData();\r\n            this.photos = this.$refs.photos.files\r\n            for( var i = 0; i < this.photos.length; i++ ){\r\n                let file = this.photos[i];\r\n                carData.append('photo[' + i + ']', file);\r\n            }\r\n            carData.append('id',this.$route.params.id)\r\n\r\n            axios.post(URL_TRANSPORT_API+'addFile', carData)\r\n            .then(response => {\r\n                this.car = response.data\r\n                this.isLoading = false\r\n                this.getCar()\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                this.errored = true\r\n                this.isLoading = false\r\n            })\r\n        },\r\n        getCar() {\r\n            this.isLoading = true\r\n            \r\n            axios.get(URL_TRANSPORT_API+'cars/'+this.$route.params.id)\r\n            .then(response => {\r\n                console.log(response.data)\r\n                this.car = response.data\r\n                this.images = response.data.photo.split(';')\r\n                this.images.pop()\r\n                this.isLoading = false\r\n                console.log( this.images)\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                this.errored = true\r\n                this.isLoading = false\r\n            })\r\n        },\r\n        getCarType(){\r\n            axios.get(URL_TRANSPORT_API+'car-types')\r\n            .then(response => {\r\n                this.carType = response.data\r\n                this.isLoading = false\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                this.errored = true\r\n                this.isLoading = false\r\n            })\r\n        },\r\n        destroyPath(path) {\r\n            let app = this\r\n            Swal.fire({\r\n                title: 'Voulez-vous supprimer cette image?',\r\n                text: \"cette action est irreversible!\",\r\n                icon: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#3085d6',\r\n                cancelButtonColor: '#d33',\r\n                confirmButtonText: 'Oui, supprimer!'\r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    this.isLoading =  true\r\n                    axios.post(URL_TRANSPORT_API+'deleteFile',{\r\n                        id:this.$route.params.id,\r\n                        path:path\r\n                    })\r\n                    .then(response => {\r\n                        app.getCar()\r\n                        console.log(response.data)\r\n                        this.isLoading =  false\r\n                        Swal.fire(\r\n                            'Supprimé!',\r\n                            'L\\'image a été supprimée.',\r\n                            'success'\r\n                        )\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                        this.errored = true\r\n                        this.isLoading =  false\r\n                    })\r\n                }\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>"]}]}
{"remainingRequest":"/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/assita/dashbord-igp/src/views/logistique/gestion/show.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/assita/dashbord-igp/src/views/logistique/gestion/show.vue","mtime":1642094589578},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/babel-loader/lib/index.js","mtime":1642074365772},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js","mtime":1642074365976}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7VVJMX0xPR0lTVElRVUVfQVBJLFVSTF9MT0dJU1RJUVVFfSBmcm9tICdAL2NvbmZpZycKLy8gSW1wb3J0IGNvbXBvbmVudAppbXBvcnQgTG9hZGluZyBmcm9tICd2dWUtbG9hZGluZy1vdmVybGF5JzsKLy8gSW1wb3J0IHN0eWxlc2hlZXQKaW1wb3J0ICd2dWUtbG9hZGluZy1vdmVybGF5L2Rpc3QvdnVlLWxvYWRpbmcuY3NzJzsKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBMb2FkaW5nCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBVUkxfTE9HSVNUSVFVRTpVUkxfTE9HSVNUSVFVRSwKICAgICAgICAgICAgZ2VzdGlvbjp7fSwKICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgZnVsbFBhZ2U6IHRydWUsCiAgICAgICAgICAgIHByb2R1aXQ6e30KICAgICAgICB9OwogICAgfSwKICAgIAogICAgbW91bnRlZCgpewogICAgICAgIHRoaXMuZ2V0R2VzdGlvbigpCiAgICAgICAgdGhpcy5nZXRQcm9kdWN0KCkKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBzdG9yZSgpIHsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9lZGl0LWdlc3Rpb24tcHJvZHVjdC8nK3RoaXMuJHJvdXRlLnBhcmFtcy5pZCkKICAgICAgICAgICAgCiAgICAgICAgfSwKCiAgICAgICAgdXBkYXRlKGlkKXsKICAgICAgICAgICAgY29uc29sZS5sb2coaWQpCiAgICAgICAgICAgIHRoaXMuZ2VzdGlvbi5jYXJ0W2lkXS5lZGl0ID0gdHJ1ZQogICAgICAgIH0sCgogICAgICAgIG9yZGVySW1hZ2UocGF0aCl7CiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgICAgICB0ZXh0OiAnJywKICAgICAgICAgICAgICAgIGltYWdlVXJsOiBVUkxfTE9HSVNUSVFVRStwYXRoLAogICAgICAgICAgICAgICAgaW1hZ2VBbHQ6ICdDdXN0b20gaW1hZ2UnLAogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgc2F2ZShwYW5pZXIpIHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGF4aW9zLnB1dChVUkxfTE9HSVNUSVFVRV9BUEkrJ29yZGVycy8nK3Bhbmllci5pZCxwYW5pZXIpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgICAgICAgICAgICB0aGlzLmdldEdlc3Rpb24oKQogICAgICAgICAgICAgICAgdGhpcy5nZXN0aW9uID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB1cGRhdGVPcmRlcigpIHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGF4aW9zLnB1dChVUkxfTE9HSVNUSVFVRV9BUEkrJ29yZGVycy8nK3RoaXMuJHJvdXRlLnBhcmFtcy5pZCx0aGlzLm9yZGVyKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgICAgICAgICAgdGhpcy5vcmRlciA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMuZ2V0R2VzdGlvbigpCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JlZCA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldEdlc3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAKICAgICAgICAgICAgYXhpb3MuZ2V0KFVSTF9MT0dJU1RJUVVFX0FQSSsnb3JkZXJzLycrdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXNwb25zZS5kYXRhLmNhcnQuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmVkaXQ9ZmFsc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5nZXN0aW9uID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JlZCA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgICAgICAvKiBnZXRQcm9kdWN0KCkgCiAgICAgICAgIHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGF4aW9zLmdldChVUkxfTE9HSVNUSVFVRV9BUEkrJ3Byb2R1Y3RzLycrdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm9kdWl0JyxyZXNwb25zZS5kYXRhKQogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWl0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JlZCA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICB9LCovCiAgICB9Cn0K"},{"version":3,"sources":["show.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"show.vue","sourceRoot":"src/views/logistique/gestion","sourcesContent":["<template>\n    <div class=\"content-page\">\n        <div class=\"container-fluid add-form-list\">\n            <div class=\"row\">\n                <div class=\"col-sm-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header d-flex justify-content-between\">\n                            <div class=\"header-title\">\n                                <h4 class=\"card-title\">Détails de commande</h4>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                        <ul class=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n                            <li class=\"nav-item\" role=\"presentation\">\n                                <a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\">Détails</a>\n                            </li>\n                            <li class=\"nav-item\" role=\"presentation\">\n                                <a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\">Produits</a>\n                            </li>\n                        </ul>\n                        <div class=\"tab-content\" id=\"myTabContent\">\n                            <div class=\"tab-pane fade show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\">\n                                <form action=\"page-list-category.html\" @submit.prevent=\"updateOrder\" data-toggle=\"validator\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>Numero de commande *</label>\n                                                <input type=\"text\" v-model=\"gestion.order_number\" class=\"form-control\" placeholder=\"\" readonly>\n                                                <div class=\"help-block with-errors\"></div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>status de la commande *</label>\n                                                <select v-model=\"gestion.status\" class=\"form-control\" name=\"\" id=\"\">\n                                                    <option value=\"new\">Nouvelle commande</option>\n                                                    <option value=\"process\">En cours</option>\n                                                    <option value=\"delivered\">Commande livrée</option>\n                                                    <option value=\"cancel\">Annulé</option>\n                                                </select>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>Prix *</label>\n                                                <input type=\"number\" min=\"0\" v-model=\"gestion.total_amount\" class=\"form-control\" placeholder=\"\" readonly>\n                                                <div class=\"help-block with-errors\"></div>\n                                            </div>\n                                        </div>   \n                                    </div>  \n                                    <hr>\n                                    <div class=\"row\">\n                                        \n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>Nom *</label>\n                                                <input type=\"text\" min=\"0\" v-model=\"gestion.nom\" class=\"form-control\" placeholder=\"\" readonly>\n                                                <div class=\"help-block with-errors\"></div>\n                                            </div>\n                                        </div> \n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>Prenoms *</label>\n                                                <input type=\"text\" min=\"0\" v-model=\"gestion.prenoms\" class=\"form-control\" placeholder=\"\" readonly>\n                                                <div class=\"help-block with-errors\"></div>\n                                            </div>\n                                        </div>    \n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>email *</label>\n                                                <input type=\"text\" min=\"0\" v-model=\"gestion.email\" class=\"form-control\" placeholder=\"\" readonly>\n                                                <div class=\"help-block with-errors\"></div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-md-6\">\n                                            <div class=\"form-group\">\n                                                <label>Numero *</label>\n                                                <input type=\"text\" min=\"0\" v-model=\"gestion.phone\" class=\"form-control\" placeholder=\"\" readonly>\n                                                <div class=\"help-block with-errors\"></div>\n                                            </div>\n                                        </div>                        \n                                    </div>                            \n                                    <button type=\"submit\" class=\"btn btn-primary mr-2\">Modifier</button>\n                                    <button type=\"reset\" class=\"btn btn-danger\">reinitialiser</button>\n                                </form>\n                            </div>\n                            <div class=\"tab-pane fade\" id=\"profile\" role=\"tabpanel\" aria-labelledby=\"profile-tab\">\n                                <div class=\"col-lg-12\">\n                                    <div class=\"table-responsive rounded mb-3\">\n                                        <table class=\"data-table table mb-0 tbl-server-info\">\n                                            <thead class=\"bg-white text-uppercase\">\n                                                <tr class=\"ligth ligth-data\">\n                                                \n                                                    <th>Produit</th>\n                                                    <th>prix </th>\n                                                    <th>quantité</th>\n                                                    <!--<th>color</th>-->\n                                                    <th>prix total</th>\n                                                    <th>Photo</th>\n                                                    <th>Actions</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody class=\"ligth-body\">\n                                                <tr v-for=\"(item,index) in gestion.cart\" :key=\"index\">\n                                                    <td>{{item.product.libelle}}</td>\n                                                    <td v-if=\"!item.edit\">{{item.price}}</td>  \n                                                    <td v-else> <input type=\"text\" class=\"form-control\" v-model=\"item.price\"> </td>\n                                                    <td>{{item.quantity}}</td>\n                                                   <!-- <td>{{item.color}}</td>-->\n                                                    <td> {{Number(item.quantity*item.price)}}</td>\n                                                    <td v-if=\"item.photo\" @click=\"orderImage(item.photo)\"> voir photo</td>\n                                                    <td v-else>Pas de photo</td>\n                                                   \n                                                    <td>\n                                                        <div v-if=\"!item.edit\" class=\"d-flex align-items-center list-action\" >\n                                                            <button class=\"badge bg-warning mr-2\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Delete\"\n                                                                @click=\"update(index)\"><i class=\"ri-delete-bin-line mr-0\"></i> Modifier</button>\n                                                        </div>\n                                                        <div v-else class=\"d-flex align-items-center list-action\">\n                                                            <button class=\"badge bg-success mr-2\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\" data-original-title=\"Delete\"\n                                                                @click=\"save(panier)\"><i class=\"ri-delete-bin-line mr-0\"></i> enregistrer</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        </div>\n\n                    </div>\n                    <div class=\"vld-parent\">\n                        <loading :active.sync=\"isLoading\" \n                        :can-cancel=\"true\" \n                        :is-full-page=\"fullPage\"></loading>\n                    </div>\n                </div>\n            </div>\n            <!-- Page end  -->\n        </div>\n    </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport {URL_LOGISTIQUE_API,URL_LOGISTIQUE} from '@/config'\n// Import component\nimport Loading from 'vue-loading-overlay';\n// Import stylesheet\nimport 'vue-loading-overlay/dist/vue-loading.css';\nimport Swal from 'sweetalert2'\nexport default {\n    components: {\n        Loading\n    },\n    data() {\n        return {\n            URL_LOGISTIQUE:URL_LOGISTIQUE,\n            gestion:{},\n            isLoading: false,\n            fullPage: true,\n            produit:{}\n        };\n    },\n    \n    mounted(){\n        this.getGestion()\n        this.getProduct()\n    },\n    methods:{\n        store() {\n            this.$router.push('/edit-gestion-product/'+this.$route.params.id)\n            \n        },\n\n        update(id){\n            console.log(id)\n            this.gestion.cart[id].edit = true\n        },\n\n        orderImage(path){\n            Swal.fire({\n                title: '',\n                text: '',\n                imageUrl: URL_LOGISTIQUE+path,\n                imageAlt: 'Custom image',\n            })\n        },\n        save(panier) {\n            this.isLoading = true\n            axios.put(URL_LOGISTIQUE_API+'orders/'+panier.id,panier)\n            .then(response => {\n                console.log(response.data)\n                this.getGestion()\n                this.gestion = response.data\n                this.isLoading = false\n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        },\n        updateOrder() {\n            this.isLoading = true\n            axios.put(URL_LOGISTIQUE_API+'orders/'+this.$route.params.id,this.order)\n            .then(response => {\n                console.log(response.data)\n                this.order = response.data\n                this.isLoading = false\n                this.getGestion()\n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        },\n        getGestion() {\n            this.isLoading = true\n            \n            axios.get(URL_LOGISTIQUE_API+'orders/'+this.$route.params.id)\n            .then(response => {\n                console.log(response.data)\n                \n                response.data.cart.forEach(element => {\n                    element.edit=false\n                });\n                this.gestion = response.data\n                this.isLoading = false\n                \n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        },\n\n        /* getProduct() \n         {\n            this.isLoading = true\n            axios.get(URL_LOGISTIQUE_API+'products/'+this.$route.params.id)\n            .then(response => {\n                \n                console.log('produit',response.data)\n                this.produit = response.data\n                this.isLoading = false\n                \n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        },*/\n    }\n}\n</script>"]}]}
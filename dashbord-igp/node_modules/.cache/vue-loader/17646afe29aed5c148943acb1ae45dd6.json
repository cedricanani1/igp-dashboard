{"remainingRequest":"/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/assita/dashbord-igp/src/views/logistique/gestion/edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/assita/dashbord-igp/src/views/logistique/gestion/edit.vue","mtime":1642088816241},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/babel-loader/lib/index.js","mtime":1642074365772},{"path":"/home/assita/dashbord-igp/node_modules/cache-loader/dist/cjs.js","mtime":1642074364992},{"path":"/home/assita/dashbord-igp/node_modules/vue-loader/lib/index.js","mtime":1642074365976}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7VVJMX0NPTU1FUkNFX0FQSX0gZnJvbSAnQC9jb25maWcnCi8vIEltcG9ydCBjb21wb25lbnQKaW1wb3J0IExvYWRpbmcgZnJvbSAndnVlLWxvYWRpbmctb3ZlcmxheSc7Ci8vIEltcG9ydCBzdHlsZXNoZWV0CmltcG9ydCAndnVlLWxvYWRpbmctb3ZlcmxheS9kaXN0L3Z1ZS1sb2FkaW5nLmNzcyc7CgppbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0MicKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgICAgICBMb2FkaW5nCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwcm9kdWN0Ont9LAogICAgICAgICAgICBwcm9kdWN0bGlzdDpbXSwKICAgICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgICAgICAgZnVsbFBhZ2U6IHRydWUKICAgICAgICB9OwogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLmdldFByb2R1Y3RUeXBlKCkKICAgICAgICB0aGlzLmdldFByb2R1Y3QoKQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIHVwZGF0ZSgpIHsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCgogICAgICAgICAgICBheGlvcy5wdXQoVVJMX0NPTU1FUkNFX0FQSSsncHJvZHVjdHMvJyt0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIHRoaXMucHJvZHVjdCkKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSkKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9lLWNvbW1lcmNlLXByb2R1Y3RzJykKICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoCiAgICAgICAgICAgICAgICAgICAgICAgICdPcGVyYXRpb24gRWZmZWN0dcOpZSEnLAogICAgICAgICAgICAgICAgICAgICAgICAnUHJvZHVpdCBjcsOpZSBhdmVjIHN1Y2PDqHMuJywKICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlCiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBnZXRQcm9kdWN0KCl7CiAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICBheGlvcy5nZXQoVVJMX0NPTU1FUkNFX0FQSSsncHJvZHVjdHMvJyt0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpCiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucHJvZHVjdCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgICAgdGhpcy5lcnJvcmVkID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZ2V0UHJvZHVjdFR5cGUoKXsKICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlCiAgICAgICAgICAgIGF4aW9zLmdldChVUkxfQ09NTUVSQ0VfQVBJKydwcm9kdWN0LXR5cGVzJykKICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgdGhpcy5wcm9kdWN0bGlzdCA9IHJlc3BvbnNlLmRhdGEKICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgICAgdGhpcy5lcnJvcmVkID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"edit.vue","sourceRoot":"src/views/logistique/gestion","sourcesContent":["<template>\n    <div class=\"content-page\">\n        <div class=\"container-fluid add-form-list\">\n            <div class=\"row\">\n                <div class=\"col-sm-12\">\n                    <div class=\"card\">\n                        <div class=\"card-header d-flex justify-content-between\">\n                            <div class=\"header-title\">\n                                <h4 class=\"card-title\">Modifier Produit</h4>\n                            </div>\n                        </div>\n                        <div class=\"card-body\">\n                            <form action=\"page-list-category.html\" @submit.prevent=\"update\" data-toggle=\"validator\">\n                                <div class=\"row\">\n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Libelle *</label>\n                                            <input type=\"text\" v-model=\"product.libelle\" class=\"form-control\" placeholder=\"Entrer libelle\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Categorie *</label>\n                                            <select v-model=\"product.product_type_id\" class=\"form-control\">\n                                                <option v-for=\"(product,index) in productlist\" :key=\"index\" :value=\"product.id\"> {{product.libelle}} </option>\n                                            </select>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>\n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Prix *</label>\n                                            <input type=\"number\" min=\"0\" v-model=\"product.price\" class=\"form-control\" placeholder=\"Entrer adresse\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>     \n                                    <div class=\"col-md-6\">\n                                        <div class=\"form-group\">\n                                            <label>Stock *</label>\n                                            <input type=\"text\" min=\"0\" v-model=\"product.stock\" class=\"form-control\" placeholder=\"Entrer adresse\" required>\n                                            <div class=\"help-block with-errors\"></div>\n                                        </div>\n                                    </div>                       \n                                </div>                            \n                                <button type=\"submit\" class=\"btn btn-primary mr-2\">Enregistrer</button>\n                                <button type=\"reset\" class=\"btn btn-danger\">reinitialiser</button>\n                            </form>\n                        </div>\n                    </div>\n                    <div class=\"vld-parent\">\n                        <loading :active.sync=\"isLoading\" \n                        :can-cancel=\"true\" \n                        :is-full-page=\"fullPage\"></loading>\n                    </div>\n                </div>\n            </div>\n            <!-- Page end  -->\n        </div>\n    </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport {URL_COMMERCE_API} from '@/config'\n// Import component\nimport Loading from 'vue-loading-overlay';\n// Import stylesheet\nimport 'vue-loading-overlay/dist/vue-loading.css';\n\nimport Swal from 'sweetalert2'\nexport default {\n    components: {\n            Loading\n    },\n    data() {\n        return {\n            product:{},\n            productlist:[],\n            isLoading: false,\n            fullPage: true\n        };\n    },\n    mounted(){\n        this.getProductType()\n        this.getProduct()\n    },\n    methods:{\n        update() {\n            this.isLoading = true\n\n            axios.put(URL_COMMERCE_API+'products/'+this.$route.params.id, this.product)\n            .then(response => {\n                console.log(response.data)\n                this.product = response.data\n                this.isLoading = false\n                if (response.data.state) {\n                    this.$router.push('/e-commerce-products')\n                    Swal.fire(\n                        'Operation Effectuée!',\n                        'Produit crée avec succès.',\n                        'success'\n                    )\n                }\n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        },\n        getProduct(){\n            this.isLoading = true\n            axios.get(URL_COMMERCE_API+'products/'+this.$route.params.id)\n            .then(response => {\n                this.product = response.data\n                this.isLoading = false\n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        },\n        getProductType(){\n            this.isLoading = true\n            axios.get(URL_COMMERCE_API+'product-types')\n            .then(response => {\n                this.productlist = response.data\n                this.isLoading = false\n            })\n            .catch(error => {\n                console.log(error)\n                this.errored = true\n                this.isLoading = false\n            })\n        }\n    }\n}\n</script>"]}]}